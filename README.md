# mongo-bot
Проект представляет собой чат-бота, предоставляющего агрегированные данные о заработной плате сотрудников компании по заданным временным промежуткам. Пользователь делает запрос боту в установленной форме, тот обращается к серверу MongoDB и выдает информацию, агрегированную по месяцам, дням или часам.

## Запрос чат-боту осуществляется в формате json и должен содержать следующие поля:
- дата и время старта агрегации в ISO формате (dt_from);
- дата и время окончания агрегации в ISO формате (dt_upto);
- тип агрегации (group_type) одного из следующих видов: hour, day, month.

## Пример входных данных:
```
{
"dt_from":"2022-09-01T00:00:00",
"dt_upto":"2022-12-31T23:59:00",
"group_type":"month"
}
```

## Запуск проекта
- Склонируйте репозиторий
```
git clone git@github.com:StrekozJulia/mongo-bot.git
```
- Перейдите в директорию проекта
```
cd mongo-bot
```
- Установите и активируйте виртуальную среду
```
py -3.11 -m venv venv
source venv/scripts/activate
```
- Обновите pip и установите зависимости
```
cd venv/scripts/
python.exe -m pip install --upgrade pip
cd ..
cd ..
pip install -r requirements.txt
```
- Переименуйте файл .env.example в .env и подставьте необходимые значения переменных окружения (в демонстрационных целях можно оставить значения по умолчанию)
- Запустите файл main.py
```
python main.py run
```
- В случае использования демонстрационных данных чат-бота можно найти по ссылке t.me/mongo13bot.
- Выполните команду /start и введите запрос по установленной форме.